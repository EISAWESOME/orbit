/*
 Hammer.JS - v1.1.2 - 2014-04-25
 http://eightmedia.github.io/hammer.js

 Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 Licensed under the MIT license */
(function(z,A){function G(){e.READY||(t.determineEventTypes(),f.each(e.gestures,function(e){k.register(e)}),t.onTouch(e.DOCUMENT,r,k.detect),t.onTouch(e.DOCUMENT,m,k.detect),e.READY=!0)}var e=function a(b,c){return new a.Instance(b,c||{})};e.VERSION="1.1.2";e.defaults={behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};e.DOCUMENT=document;e.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;
e.HAS_TOUCHEVENTS="ontouchstart"in z;e.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);e.NO_MOUSEEVENTS=e.HAS_TOUCHEVENTS&&e.IS_MOBILE||e.HAS_POINTEREVENTS;e.CALCULATE_INTERVAL=25;var u={},B=e.DIRECTION_DOWN="down",E=e.DIRECTION_LEFT="left",C=e.DIRECTION_UP="up",F=e.DIRECTION_RIGHT="right",w=e.POINTER_MOUSE="mouse",D=e.POINTER_TOUCH="touch",y=e.POINTER_PEN="pen",n=e.EVENT_START="start",r=e.EVENT_MOVE="move",m=e.EVENT_END="end",p=e.EVENT_RELEASE="release",x=e.EVENT_TOUCH=
"touch";e.READY=!1;e.plugins=e.plugins||{};e.gestures=e.gestures||{};var f=e.utils={extend:function(a,b,c){for(var d in b)!b.hasOwnProperty(d)||a[d]!==A&&c||(a[d]=b[d]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,b,c){var d,h;if("forEach"in a)a.forEach(b,c);else if(a.length!==A)for(d=0,h=a.length;d<h&&!1!==b.call(c,a[d],d,a);d++);else for(d in a)if(a.hasOwnProperty(d)&&!1===b.call(c,a[d],d,a))break},inStr:function(a,b){return-1<
a.indexOf(b)},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],h=[],e=Math.min,l=Math.max;if(1===a.length)return{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY};f.each(a,function(a){b.push(a.pageX);c.push(a.pageY);
d.push(a.clientX);h.push(a.clientY)});return{pageX:(e.apply(Math,b)+l.apply(Math,b))/2,pageY:(e.apply(Math,c)+l.apply(Math,c))/2,clientX:(e.apply(Math,d)+l.apply(Math,d))/2,clientY:(e.apply(Math,h)+l.apply(Math,h))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){return 180*Math.atan2(b.clientY-a.clientY,b.clientX-a.clientX)/Math.PI},getDirection:function(a,b){return Math.abs(a.clientX-b.clientX)>=Math.abs(a.clientY-b.clientY)?0<a.clientX-b.clientX?
E:F:0<a.clientY-b.clientY?C:B},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return 2<=a.length&&2<=b.length?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return 2<=a.length&&2<=b.length?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==C||a==B},setPrefixedCss:function(a,b,c,d){var h=["","Webkit","Moz","O","ms"];b=f.toCamelCase(b);for(var e=0;e<h.length;e++){var l=
b;h[e]&&(l=h[e]+l.slice(0,1).toUpperCase()+l.slice(1));if(l in a.style){a.style[l]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){f.each(b,function(b,d){f.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d);"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},t=e.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){b=
b.split(" ");f.each(b,function(b){f.on(a,b,c);d&&d(b)})},off:function(a,b,c,d){b=b.split(" ");f.each(b,function(b){f.off(a,b,c);d&&d(b)})},onTouch:function(a,b,c){var d=this,h=function(h){var g=h.type.toLowerCase(),q=e.HAS_POINTEREVENTS,g=f.inStr(g,"mouse"),k;g&&d.preventMouseEvents||(g&&b==n&&0===h.button?(d.preventMouseEvents=!1,d.shouldDetect=!0):q&&b==n?d.shouldDetect=1===h.buttons:g||b!=n||(d.preventMouseEvents=!0,d.shouldDetect=!0),q&&b!=m&&v.updatePointer(b,h),d.shouldDetect&&(k=d.doDetect.call(d,
h,b,a,c)),k==m&&(d.preventMouseEvents=!1,d.shouldDetect=!1,v.reset()),q&&b==m&&v.updatePointer(b,h))};this.on(a,u[b],h);return h},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),g=b,f=e.trigger,q=e.length;b==n?f=x:b==m&&(f=p,q=e.length-(a.changedTouches?a.changedTouches.length:1));0<q&&this.started&&(g=r);this.started=!0;a=this.collectEventData(c,g,e,a);b!=m&&d.call(k,a);f&&(a.changedLength=q,a.eventType=f,d.call(k,a),a.eventType=g,delete a.changedLength);g==m&&(d.call(k,a),this.started=!1);
return g},determineEventTypes:function(){var a;a=e.HAS_POINTEREVENTS?z.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:e.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];u[n]=a[0];u[r]=a[1];u[m]=a[2];return u},getTouchList:function(a,b){if(e.HAS_POINTEREVENTS)return v.getTouchList();
if(a.touches){if(b==r)return a.touches;var c=[],d=[].concat(f.toArray(a.touches),f.toArray(a.changedTouches)),h=[];f.each(d,function(a){!1===f.inArray(c,a.identifier)&&h.push(a);c.push(a.identifier)});return h}a.identifier=1;return[a]},collectEventData:function(a,b,c,d){a=D;f.inStr(d.type,"mouse")||v.matchType(w,d)?a=w:v.matchType(y,d)&&(a=y);return{center:f.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:a,srcEvent:d,preventDefault:function(){var a=this.srcEvent;
a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return k.stopDetect()}}}},v=e.PointerEvent={pointers:{},getTouchList:function(){var a=[];f.each(this.pointers,function(b){a.push(b)});return a},updatePointer:function(a,b){a==m||a!=m&&1!==b.buttons?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;
var c=b.pointerType,d={};d[w]=c===(b.MSPOINTER_TYPE_MOUSE||w);d[D]=c===(b.MSPOINTER_TYPE_TOUCH||D);d[y]=c===(b.MSPOINTER_TYPE_PEN||y);return d[a]},reset:function(){this.pointers={}}},k=e.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:f.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);
var b=this.current.inst,c=b.options;f.each(this.gestures,function(d){if(!this.stopped&&b.enabled&&c[d.name]&&!1===d.handler.call(d,a,b))return this.stopDetect(),!1},this);this.current&&(this.current.lastEvent=a);a.eventType==m&&this.stopDetect();return a}},stopDetect:function(){this.previous=f.extend({},this.current);this.current=null;this.stopped=!0},getCalculatedData:function(a,b,c,d,h){var g=this.current,l=!1,k=g.lastCalcEvent,m=g.lastCalcData;k&&a.timeStamp-k.timeStamp>e.CALCULATE_INTERVAL&&(b=
k.center,c=a.timeStamp-k.timeStamp,d=a.center.clientX-k.center.clientX,h=a.center.clientY-k.center.clientY,l=!0);if(a.eventType==x||a.eventType==p)g.futureCalcEvent=a;if(!g.lastCalcEvent||l)m.velocity=f.getVelocity(c,d,h),m.angle=f.getAngle(b,a.center),m.direction=f.getDirection(b,a.center),g.lastCalcEvent=g.futureCalcEvent||a,g.futureCalcEvent=a;a.velocityX=m.velocity.x;a.velocityY=m.velocity.y;a.interimAngle=m.angle;a.interimDirection=m.direction},extendEventData:function(a){var b=this.current,
c=b.startEvent,b=b.lastEvent||c;if(a.eventType==x||a.eventType==p)c.touches=[],f.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})});var d=a.timeStamp-c.timeStamp,e=a.center.clientX-c.center.clientX,g=a.center.clientY-c.center.clientY;this.getCalculatedData(a,b.center,d,e,g);f.extend(a,{startEvent:c,deltaTime:d,deltaX:e,deltaY:g,distance:f.getDistance(c.center,a.center),angle:f.getAngle(c.center,a.center),direction:f.getDirection(c.center,a.center),scale:f.getScale(c.touches,
a.touches),rotation:f.getRotation(c.touches,a.touches)});return a},register:function(a){var b=a.defaults||{};b[a.name]===A&&(b[a.name]=!0);f.extend(e.defaults,b,!0);a.index=a.index||1E3;this.gestures.push(a);this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};e.Instance=function(a,b){var c=this;G();this.element=a;this.enabled=!0;f.each(b,function(a,c){delete b[c];b[f.toCamelCase(c)]=a});this.options=f.extend(f.extend({},e.defaults),b||{});this.options.behavior&&
f.toggleBehavior(this.element,this.options.behavior,!0);this.eventStartHandler=t.onTouch(a,n,function(a){c.enabled&&a.eventType==n?k.startDetect(c,a):a.eventType==x&&k.detect(a)});this.eventHandlers=[]};e.Instance.prototype={on:function(a,b){var c=this;t.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})});return c},off:function(a,b){var c=this;t.off(c.element,a,b,function(a){a=f.inArray({gesture:a,handler:b});!1!==a&&c.eventHandlers.splice(a,1)});return c},trigger:function(a,
b){b||(b={});var c=e.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0);c.gesture=b;var d=this.element;f.hasParent(b.target,d)&&(d=b.target);d.dispatchEvent(c);return this},enable:function(a){this.enabled=a;return this},dispose:function(){var a,b;f.toggleBehavior(this.element,this.options.behavior,!1);for(a=-1;b=this.eventHandlers[++a];)f.off(this.element,b.gesture,b.handler);this.eventHandlers=[];t.off(this.element,u[n],this.eventStartHandler);return null}};(function(a){var b=!1;e.gestures.Drag=
{name:a,index:50,handler:function(c,d){var e=k.current;if(!(0<d.options.dragMaxTouches&&c.touches.length>d.options.dragMaxTouches))switch(c.eventType){case n:b=!1;break;case r:if(c.distance<d.options.dragMinDistance&&e.name!=a)break;var g=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&0<c.distance)){var l=Math.abs(d.options.dragMinDistance/c.distance);g.pageX+=c.deltaX*l;g.pageY+=c.deltaY*l;g.clientX+=c.deltaX*l;g.clientY+=c.deltaY*l;c=k.extendEventData(c)}if(e.lastEvent.dragLockToAxis||
d.options.dragLockToAxis&&d.options.dragLockMinDistance<=c.distance)c.dragLockToAxis=!0;e=e.lastEvent.direction;c.dragLockToAxis&&e!==c.direction&&(f.isVertical(e)?c.direction=0>c.deltaY?C:B:c.direction=0>c.deltaX?E:F);b||(d.trigger(a+"start",c),b=!0);d.trigger(a,c);d.trigger(a+c.direction,c);e=f.isVertical(c.direction);(d.options.dragBlockVertical&&e||d.options.dragBlockHorizontal&&!e)&&c.preventDefault();break;case p:b&&c.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",c),b=!1);break;
case m:b=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})("drag");e.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}};(function(a){var b;e.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(c,d){var e=d.options,f=k.current;switch(c.eventType){case n:clearTimeout(b);f.name=a;b=setTimeout(function(){f&&f.name==
a&&d.trigger(a,c)},e.holdTimeout);break;case r:c.distance>e.holdThreshold&&clearTimeout(b);break;case p:clearTimeout(b)}}}})("hold");e.gestures.Release={name:"release",index:Infinity,handler:function(a,b){a.eventType==p&&b.trigger(this.name,a)}};e.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==p){var c=a.touches.length,d=b.options;c<d.swipeMinTouches||c>d.swipeMaxTouches||!(a.velocityX>
d.swipeVelocityX||a.velocityY>d.swipeVelocityY)||(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}};(function(a){var b=!1;e.gestures.Tap={name:a,index:100,handler:function(c,d){var e=d.options,f=k.current,l=k.previous,q,p;switch(c.eventType){case n:b=!1;break;case r:b=b||c.distance>e.tapMaxDistance;break;case m:"touchcancel"!=c.srcEvent.type&&c.deltaTime<e.tapMaxTime&&!b&&(q=l&&l.lastEvent&&c.timeStamp-l.lastEvent.timeStamp,p=!1,l&&l.name==a&&q&&q<e.doubleTapInterval&&c.distance<e.doubleTapDistance&&
(d.trigger("doubletap",c),p=!0),!p||e.tapAlways)&&(f.name=a,d.trigger(f.name,c))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}})("tap");e.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){b.options.preventMouse&&a.pointerType==w?a.stopDetect():(b.options.preventDefault&&a.preventDefault(),a.eventType==x&&b.trigger("touch",a))}};(function(a){var b=!1;e.gestures.Transform={name:a,index:45,
defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(c,d){switch(c.eventType){case n:b=!1;break;case r:if(2>c.touches.length)break;var e=Math.abs(1-c.scale),f=Math.abs(c.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)break;k.current.name=a;b||(d.trigger(a+"start",c),b=!0);d.trigger(a,c);f>d.options.transformMinRotation&&d.trigger("rotate",c);e>d.options.transformMinScale&&(d.trigger("pinch",c),d.trigger("pinch"+(1>c.scale?"in":"out"),c));break;case p:b&&
2>c.changedLength&&(d.trigger(a+"end",c),b=!1)}}}})("transform");"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!==typeof module&&module.exports?module.exports=e:z.Hammer=e})(window);
